# ITSM-tmuxä¸¦åˆ—é–‹ç™ºç’°å¢ƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
# Version: 1.0
# Date: 2025-01-17

# åŸºæœ¬è¨­å®š
set -g default-terminal "screen-256color"
set -g history-limit 10000
set -g base-index 0
setw -g pane-base-index 0

# ãƒã‚¦ã‚¹ã‚µãƒãƒ¼ãƒˆæœ‰åŠ¹åŒ–
set -g mouse on

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼è¨­å®š - å®Œå…¨ç„¡åŠ¹åŒ–
set -g status off

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«è¨­å®š - ç„¡åŠ¹åŒ–
setw -g automatic-rename off
set -g set-titles off

# ãƒšã‚¤ãƒ³å¢ƒç•Œç·š
set -g pane-border-style fg=colour235
set -g pane-active-border-style fg=colour208

# ãƒšã‚¤ãƒ³ç•ªå·è¡¨ç¤ºæ™‚é–“å»¶é•·
set -g display-panes-time 3000

# ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰è¨­å®š
# ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚­ãƒ¼
set -g prefix C-b
bind C-b send-prefix

# ãƒšã‚¤ãƒ³åˆ†å‰²
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# ãƒšã‚¤ãƒ³ç§»å‹•ï¼ˆVimã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# ãƒšã‚¤ãƒ³ãƒªã‚µã‚¤ã‚º
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦åˆ‡ã‚Šæ›¿ãˆ
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# è¨­å®šãƒªãƒ­ãƒ¼ãƒ‰
bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."

# ã‚³ãƒ”ãƒ¼ãƒ¢ãƒ¼ãƒ‰è¨­å®š
setw -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# ãƒšã‚¤ãƒ³åŒæœŸãƒˆã‚°ãƒ«
bind S setw synchronize-panes \; display-message "Synchronize-panes #{?pane_synchronized,on,off}"

# ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ãƒ»å¾©å…ƒç”¨ã‚¨ã‚¤ãƒªã‚¢ã‚¹
bind C-s run-shell "tmux list-panes -a -F '#{session_name}:#{window_index}.#{pane_index} #{pane_current_path}' > ~/.tmux-session-backup"
bind C-r run-shell "~/.tmux-resurrect"

# ITSMå°‚ç”¨è¨­å®š (5ãƒšã‚¤ãƒ³æ§‹æˆ)
# ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦è¨­å®š
bind-key M-t select-window -t :0 \; rename-window "Team"

# 5ãƒšã‚¤ãƒ³æ§‹æˆã®è¦–è¦šçš„è­˜åˆ¥ - ã‚¢ã‚¤ã‚³ãƒ³ä»˜ãå½¹å‰²åè¡¨ç¤ºï¼ˆå®Ÿéš›ã®é…ç½®ã«åŸºã¥ãï¼‰
set -g pane-border-format "#{?pane_active,#[fg=red bold],#[fg=white]}#{?#{==:#{pane_index},0},ğŸ“‹ Manager,#{?#{==:#{pane_index},1},ğŸ‘” CTO,#{?#{==:#{pane_index},2},ğŸ¨ Dev0-Frontend,#{?#{==:#{pane_index},3},ğŸ”§ Dev1-Backend,#{?#{==:#{pane_index},4},ğŸ§ª Dev2-Test/QA,Unknown}}}}}#[default]"
set -g pane-border-status top

# ç‰¹æ®Šã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ (5ãƒšã‚¤ãƒ³æ§‹æˆå¯¾å¿œ)
# å…¨Developerãƒšã‚¤ãƒ³ã«åŒã˜ã‚³ãƒãƒ³ãƒ‰ã‚’é€ä¿¡ (Dev0, Dev1, Dev2)
bind-key M-d run-shell 'tmux send-keys -t MicrosoftProductTools:0.1 "#{command}" Enter; \
                        tmux send-keys -t MicrosoftProductTools:0.3 "#{command}" Enter; \
                        tmux send-keys -t MicrosoftProductTools:0.4 "#{command}" Enter'

# ç·Šæ€¥åœæ­¢ (å…¨Developerãƒšã‚¤ãƒ³)
bind-key M-x run-shell 'for i in 1 3 4; do tmux send-keys -t MicrosoftProductTools:0.$i C-c; done'

# 5ãƒšã‚¤ãƒ³æ§‹æˆå°‚ç”¨ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ (å®Ÿéš›ã®é…ç½®ã«åŸºã¥ã)
# Manager ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
bind-key M-m select-pane -t MicrosoftProductTools:0.0

# CTO ãƒ•ã‚©ãƒ¼ã‚«ã‚¹  
bind-key M-c select-pane -t MicrosoftProductTools:0.2

# Developer ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
bind-key M-0 select-pane -t MicrosoftProductTools:0.1  # Dev0
bind-key M-1 select-pane -t MicrosoftProductTools:0.3  # Dev1
bind-key M-2 select-pane -t MicrosoftProductTools:0.4  # Dev2

# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šï¼ˆtmux plugin managerä½¿ç”¨æ™‚ï¼‰
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'tmux-plugins/tmux-resurrect'
# set -g @plugin 'tmux-plugins/tmux-continuum'

# è‡ªå‹•ä¿å­˜è¨­å®šï¼ˆtmux-continuumä½¿ç”¨æ™‚ï¼‰
# set -g @continuum-restore 'on'
# set -g @continuum-save-interval '15'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
# run '~/.tmux/plugins/tpm/tpm'