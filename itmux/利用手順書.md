# 🎯 Microsoft製品管理ツール - itmux並列開発環境 利用手順書

## 📋 目次
1. [日常の開発ワークフロー](#日常の開発ワークフロー)
2. [基本操作](#基本操作)
3. [高度な使用方法](#高度な使用方法)
4. [開発者間連携](#開発者間連携)
5. [実践的な使用例](#実践的な使用例)
6. [効率化のコツ](#効率化のコツ)

---

## 🌅 日常の開発ワークフロー

### 朝の開発開始ルーチン

#### 1. itmux起動
```bash
# itmuxを起動
C:\tools\itmux\itmux.cmd
```

#### 2. 開発環境の初期化
```bash
# 作業ディレクトリに移動
cd /cygdrive/c/workspace/MicrosoftProductManagementTools

# 環境初期化
./powershell-itmux-manager.sh init
```

#### 3. 開発セッションの開始
```bash
# 開発セッション作成
./create-itsm-session.sh
```

#### 4. 各開発者の作業開始
```bash
# 🎯 CEO (戦略・承認): Ctrl+a 0
# 👔 Manager (調整・管理): Ctrl+a 1
# 💻 dev1 (フロントエンド): Ctrl+a 2
# 🔧 dev2 (バックエンド): Ctrl+a 3
# 🗄️ dev3 (テスト・QA): Ctrl+a 4
# 🧪 dev4 (統合・検証): Ctrl+a 5
```

---

## ⌨️ 基本操作

### セッション管理

#### セッションの操作
```bash
# セッション一覧表示
tmux list-sessions

# セッションにアタッチ
tmux attach-session -t MicrosoftProductManagementTools

# セッションからデタッチ（バックグラウンド実行）
Ctrl+a d

# セッション終了
tmux kill-session -t MicrosoftProductManagementTools
```

### ウィンドウ操作

#### ウィンドウの切り替え
```bash
Ctrl+a 0  # CEO-Strategy
Ctrl+a 1  # Manager-Coord  
Ctrl+a 2  # dev1-Frontend
Ctrl+a 3  # dev2-Backend
Ctrl+a 4  # dev3-TestQA
Ctrl+a 5  # dev4-Integration

# 次のウィンドウ
Ctrl+a n

# 前のウィンドウ
Ctrl+a p

# 最後のウィンドウ
Ctrl+a l
```

#### ウィンドウの管理
```bash
# 新しいウィンドウ作成
Ctrl+a c

# ウィンドウ名変更
Ctrl+a ,

# ウィンドウを閉じる
Ctrl+a &
```

### ペイン操作

#### ペインの分割
```bash
# 垂直分割（左右）
Ctrl+a |

# 水平分割（上下）
Ctrl+a -

# 4ペイン構成の自動作成
Ctrl+a 4
```

#### ペインの移動
```bash
# Vim風キー操作
Ctrl+a h  # 左ペイン
Ctrl+a j  # 下ペイン
Ctrl+a k  # 上ペイン
Ctrl+a l  # 右ペイン
```

#### ペインのリサイズ
```bash
# 連続リサイズ（rキーを押し続ける）
Ctrl+a H  # 左に拡大
Ctrl+a J  # 下に拡大
Ctrl+a K  # 上に拡大
Ctrl+a L  # 右に拡大
```

#### ペインの管理
```bash
# ペインズーム切り替え
Ctrl+a z

# ペインを閉じる
Ctrl+a x

# ペインの配置変更
Ctrl+a Space
```

---

## 🚀 高度な使用方法

### Microsoft製品管理ツール特化機能

#### 開発環境へのクイックアクセス
```bash
# 特化バインド
Ctrl+a G  # GUI-App作業ウィンドウ
Ctrl+a A  # CLI-App作業ウィンドウ  
Ctrl+a S  # Scripts作業ウィンドウ
Ctrl+a T  # Test作業ウィンドウ
Ctrl+a R  # Reports作業ウィンドウ
Ctrl+a D  # Docs作業ウィンドウ

# Microsoft365特化
Ctrl+a M  # M365-Scripts作業ウィンドウ
Ctrl+a E  # Exchange作業ウィンドウ
Ctrl+a O  # OneDrive作業ウィンドウ
```

#### PowerShell統合機能
```bash
# PowerShell関連ウィンドウ
Ctrl+a P  # PowerShell新ウィンドウ
Ctrl+a C  # CMD新ウィンドウ
Ctrl+a W  # WinTools新ウィンドウ
```

#### 緊急時・管理機能
```bash
# 設定リロード
Ctrl+a r

# ログ確認
Ctrl+a M-l

# 緊急時の全セッション終了
Ctrl+a M-q
```

### PowerShell統合マネージャーの使用

#### 基本的な開発ループ実行
```bash
# GUI開発ループ
./powershell-itmux-manager.sh gui

# CLI開発ループ
./powershell-itmux-manager.sh cli

# 認証テストループ
./powershell-itmux-manager.sh auth

# 統合テストループ
./powershell-itmux-manager.sh integration

# レポート生成ループ
./powershell-itmux-manager.sh report

# Microsoft365管理ループ
./powershell-itmux-manager.sh m365
```

#### 全開発ループの実行
```bash
# 全ての開発ループを順次実行
./powershell-itmux-manager.sh all
```

---

## 👥 開発者間連携

### チーム間でのメッセージ共有

#### Manager → 開発者へのタスク指示
```bash
# Manager窓から dev1 へのタスク指示
tmux send-keys -t "MicrosoftProductManagementTools:2" "echo 'Manager: フロントエンドのUI改善をお願いします'" C-m

# Manager窓から dev2 へのタスク指示
tmux send-keys -t "MicrosoftProductManagementTools:3" "echo 'Manager: API仕様の更新をお願いします'" C-m

# Manager窓から dev3 へのタスク指示
tmux send-keys -t "MicrosoftProductManagementTools:4" "echo 'Manager: セキュリティテストの実行をお願いします'" C-m

# Manager窓から dev4 へのタスク指示
tmux send-keys -t "MicrosoftProductManagementTools:5" "echo 'Manager: 統合テストの確認をお願いします'" C-m
```

#### 開発者 → Manager への進捗報告
```bash
# dev1 → Manager への進捗報告
tmux send-keys -t "MicrosoftProductManagementTools:1" "echo 'dev1: フロントエンド実装が完了しました'" C-m

# dev2 → Manager への進捗報告
tmux send-keys -t "MicrosoftProductManagementTools:1" "echo 'dev2: API実装が完了しました'" C-m

# dev3 → Manager への進捗報告
tmux send-keys -t "MicrosoftProductManagementTools:1" "echo 'dev3: テストが完了しました'" C-m

# dev4 → Manager への進捗報告
tmux send-keys -t "MicrosoftProductManagementTools:1" "echo 'dev4: 統合テストが完了しました'" C-m
```

#### CEO → 全員への重要通知
```bash
# 全ウィンドウへの一斉通知
for window in {0..5}; do
    tmux send-keys -t "MicrosoftProductManagementTools:$window" "echo 'CEO: 本日の開発目標を確認してください'" C-m
done

# 緊急時の全員への通知
for window in {0..5}; do
    tmux send-keys -t "MicrosoftProductManagementTools:$window" "echo '🚨 緊急: セキュリティアップデートを実施してください'" C-m
done
```

---

## 💡 実践的な使用例

### 1. 日常の開発シナリオ

#### シナリオ1: フロントエンド開発 (dev1)
```bash
# dev1窓 (Ctrl+a 2) に移動
# ペイン構成:
# ┌─────────────────────┬───────────────────────┐
# │  📝 メインターミナル    │  📊 ログ・モニタリング     │
# ├─────────────────────┼───────────────────────┤
# │  🚀 開発サーバー        │  🧪 テスト実行          │
# └─────────────────────┴───────────────────────┘

# 左上ペイン: コーディング作業
Ctrl+a h  # 左上ペインに移動
npm install
code .

# 右上ペイン: ログ監視
Ctrl+a l  # 右上ペインに移動
tail -f /cygdrive/c/workspace/MicrosoftProductManagementTools/logs/gui_app.log

# 左下ペイン: 開発サーバー
Ctrl+a j  # 左下ペインに移動
npm run dev

# 右下ペイン: テスト実行
Ctrl+a l  # 右下ペインに移動
npm test --watch
```

#### シナリオ2: バックエンド開発 (dev2)
```bash
# dev2窓 (Ctrl+a 3) に移動
# ペイン構成:
# ┌─────────────────────┬───────────────────────┐
# │  💻 メインターミナル    │  🚀 APIサーバー監視     │
# ├─────────────────────┼───────────────────────┤
# │  🗄️ データベース管理   │  🧪 APIテスト          │
# └─────────────────────┴───────────────────────┘

# 左上ペイン: バックエンド開発
./powershell-itmux-manager.sh cli

# 右上ペイン: APIサーバー監視
node server.js

# 左下ペイン: データベース操作
sqlite3 database.db

# 右下ペイン: APIテスト
curl -X GET http://localhost:3000/api/users
```

#### シナリオ3: テスト・QA (dev3)
```bash
# dev3窓 (Ctrl+a 4) に移動
# ペイン構成:
# ┌─────────────────────┬───────────────────────┐
# │  🧪 テスト自動化       │  🛡️ セキュリティスキャン │
# ├─────────────────────┼───────────────────────┤
# │  📏 品質管理          │  ⚡ パフォーマンステスト │
# └─────────────────────┴───────────────────────┘

# 左上ペイン: テスト自動化
./powershell-itmux-manager.sh auth

# 右上ペイン: セキュリティスキャン
npm audit
snyk test

# 左下ペイン: 品質管理
eslint --fix .
prettier --write .

# 右下ペイン: パフォーマンステスト
npm run test:performance
```

### 2. 緊急時の対応シナリオ

#### 緊急修正が必要な場合
```bash
# CEO窓で緊急事態を宣言
tmux send-keys -t "MicrosoftProductManagementTools:0" "echo '🚨 緊急修正が必要です。全員対応してください'" C-m

# Manager窓で対応指示
tmux send-keys -t "MicrosoftProductManagementTools:1" "echo '📋 緊急修正タスクを割り振ります'" C-m

# 全開発者に緊急通知
for window in {2..5}; do
    tmux send-keys -t "MicrosoftProductManagementTools:$window" "echo '🚨 緊急: 現在の作業を中断して修正に取り組んでください'" C-m
done

# 緊急修正用の新しいウィンドウを作成
tmux new-window -n "EMERGENCY" -c "/cygdrive/c/workspace/MicrosoftProductManagementTools"
```

---

## 🎯 効率化のコツ

### 1. カスタムエイリアスの作成

#### よく使用するコマンドのエイリアス
```bash
# ~/.bashrc に追加
alias ms='cd /cygdrive/c/workspace/MicrosoftProductManagementTools'
alias mss='./create-itsm-session.sh'
alias msi='./powershell-itmux-manager.sh init'
alias msa='./powershell-itmux-manager.sh all'
alias tma='tmux attach-session -t MicrosoftProductManagementTools'
alias tmd='tmux detach-session'
alias tml='tmux list-sessions'
```

### 2. スクリプトの自動化

#### 定期実行スクリプト
```bash
# 定期的な開発ループ実行
#!/bin/bash
# auto-dev-loop.sh
echo "🔄 定期開発ループを開始します"
./powershell-itmux-manager.sh gui
sleep 300  # 5分待機
./powershell-itmux-manager.sh cli
sleep 300  # 5分待機
./powershell-itmux-manager.sh auth
```

### 3. 効率的なペイン配置

#### 推奨ペイン配置パターン
```bash
# パターン1: 開発 + 監視
# ┌─────────────────┬─────────────────┐
# │     開発作業     │   ログ監視       │
# ├─────────────────┼─────────────────┤
# │   サーバー実行   │   テスト実行     │
# └─────────────────┴─────────────────┘

# パターン2: 3ペイン構成
# ┌─────────────────┬─────────────────┐
# │     開発作業     │   ログ監視       │
# ├─────────────────┴─────────────────┤
# │         テスト・実行領域           │
# └───────────────────────────────────┘
```

### 4. キーボードショートカットの活用

#### 効率的なキー操作
```bash
# 素早いウィンドウ切り替え
Ctrl+a 0 → Ctrl+a 1 → Ctrl+a 2 → Ctrl+a 3 → Ctrl+a 4 → Ctrl+a 5

# ペインの素早い移動
Ctrl+a h → Ctrl+a j → Ctrl+a k → Ctrl+a l

# 作業中断・再開
Ctrl+a d  # デタッチ
tma       # 再アタッチ（エイリアス使用）
```

---

## 🔍 デバッグ・ログ確認

### ログの確認方法
```bash
# 各種ログファイルの確認
tail -f /cygdrive/c/workspace/MicrosoftProductManagementTools/logs/system.log
tail -f /cygdrive/c/workspace/MicrosoftProductManagementTools/logs/audit.log
tail -f /cygdrive/c/workspace/MicrosoftProductManagementTools/logs/cli_app.log
```

### 設定の確認・変更
```bash
# tmux設定の確認
tmux show-options -g

# 設定の再読み込み
tmux source-file ~/.tmux.conf

# 環境変数の確認
echo $ITSM_WORKSPACE
echo $ITMUX_PATH
```

---

## 📚 参考情報

### よく使用するtmuxコマンド
```bash
# セッション操作
tmux new-session -d -s SessionName
tmux attach-session -t SessionName
tmux kill-session -t SessionName
tmux list-sessions

# ウィンドウ操作
tmux new-window -n WindowName
tmux select-window -t WindowName
tmux rename-window NewName

# ペイン操作
tmux split-window -h
tmux split-window -v
tmux select-pane -t 0
tmux resize-pane -D 5
```

### PowerShell統合コマンド
```bash
# PowerShell統合マネージャー
./powershell-itmux-manager.sh {init|gui|cli|auth|integration|report|m365|all}

# 利用可能なスクリプトパターン
# - GuiApp*.ps1
# - CliApp*.ps1
# - Test-*.ps1
# - *Exchange*.ps1
# - *Teams*.ps1
# - *OneDrive*.ps1
# - *EntraID*.ps1
```

---

**🎉 これでMicrosoft製品管理ツールのitmux並列開発環境を効率的に利用できます！**

**💡 重要なポイント:**
- 定期的にセッションをデタッチして作業を保存
- 各開発者間でのコミュニケーションを活発に行う
- ログを定期的に確認して問題を早期発見
- 設定ファイルをバージョン管理で管理