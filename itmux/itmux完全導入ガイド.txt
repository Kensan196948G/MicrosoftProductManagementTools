# ğŸ¯ itmuxå®Œå…¨å°å…¥ã‚¬ã‚¤ãƒ‰ - ITSMé–‹ç™ºç’°å¢ƒæ§‹ç¯‰

## ğŸ“‹ ç›®æ¬¡
1. [itmuxå®Ÿéš›ã®æ§‹é€ ](#itmuxå®Ÿéš›ã®æ§‹é€ )
2. [å°å…¥ãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †](#å°å…¥ãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †)
3. [tmuxè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«](#tmuxè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«)
4. [ITSMé–‹ç™ºã‚»ãƒƒã‚·ãƒ§ãƒ³æ§‹ç¯‰](#itsmé–‹ç™ºã‚»ãƒƒã‚·ãƒ§ãƒ³æ§‹ç¯‰)
5. [PowerShellçµ±åˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ](#powershellçµ±åˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ)
6. [å®Ÿç”¨çš„ãªä½¿ç”¨ä¾‹](#å®Ÿç”¨çš„ãªä½¿ç”¨ä¾‹)
7. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ğŸ“ itmuxå®Ÿéš›ã®æ§‹é€ 

### ç¢ºèªæ¸ˆã¿itmuxæ§‹æˆ
```
C:\tools\itmux\
â”œâ”€â”€ bin\                          # å®Ÿè¡Œå¯èƒ½ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ mintty.exe               # ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰
â”‚   â”œâ”€â”€ tmux.exe                 # tmuxæœ¬ä½“
â”‚   â”œâ”€â”€ bash.exe                 # Bashã‚·ã‚§ãƒ«
â”‚   â”œâ”€â”€ ssh.exe                  # SSHé–¢é€£ãƒ„ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ scp.exe, sftp.exe        # ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€
â”‚   â”œâ”€â”€ cygwin1.dll              # CygwinåŸºç›¤DLL
â”‚   â”œâ”€â”€ (ãã®ä»–å¤šæ•°ã®UNIXãƒ„ãƒ¼ãƒ«)
â”‚   â””â”€â”€ (cyg*.dll - ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª)
â”œâ”€â”€ etc\                         # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ ssh\                     # SSHè¨­å®š
â”‚   â”œâ”€â”€ terminfo\                # ç«¯æœ«æƒ…å ±
â”‚   â”œâ”€â”€ nsswitch.conf           # ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒ“ã‚¹è¨­å®š
â”‚   â””â”€â”€ profile                  # ã‚·ã‚§ãƒ«åˆæœŸè¨­å®š
â”œâ”€â”€ usr\                         # ãƒ¦ãƒ¼ã‚¶ãƒ¼é ˜åŸŸ
â”‚   â””â”€â”€ share\                   # å…±æœ‰ãƒ‡ãƒ¼ã‚¿
â”‚       â””â”€â”€ terminfo\            # è©³ç´°ãªç«¯æœ«æƒ…å ±
â”œâ”€â”€ tmp\                         # ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ fstab.txt                    # ãƒã‚¦ãƒ³ãƒˆè¨­å®šèª¬æ˜
â”œâ”€â”€ itmux.cmd                    # èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ LICENSE.TXT                  # ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±
```

---

## ğŸš€ å°å…¥ãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1ï¸âƒ£ åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```powershell
# 1. itmuxé…ç½®ï¼ˆæ—¢ã«å®Œäº†ï¼‰
# C:\tools\itmux\ ã«é…ç½®æ¸ˆã¿

# 2. ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆPowerShellï¼‰
$env:PATH += ";C:\tools\itmux\bin"
[Environment]::SetEnvironmentVariable("PATH", $env:PATH, [EnvironmentVariableTarget]::User)

# 3. èµ·å‹•ç¢ºèª
C:\tools\itmux\itmux.cmd
```

### 2ï¸âƒ£ æ­£ã—ã„itmuxèµ·å‹•ã‚·ãƒ¼ã‚±ãƒ³ã‚¹
```powershell
# æ–¹æ³•1: æ¨™æº–èµ·å‹•ï¼ˆæ¨å¥¨ï¼‰
C:\tools\itmux\itmux.cmd

# æ–¹æ³•2: ç›´æ¥minttyèµ·å‹•
C:\tools\itmux\bin\mintty.exe --title "ITSM Development" -

# æ–¹æ³•3: PowerShellã‹ã‚‰èµ·å‹•
Start-Process "C:\tools\itmux\itmux.cmd" -WindowStyle Normal

# æ–¹æ³•4: ã‚«ã‚¹ã‚¿ãƒ èµ·å‹•
C:\tools\itmux\bin\mintty.exe --title "ITSM-ITmanagementSystem" --size 120,40 -
```

---

## ğŸ”§ tmuxè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

### ~/.tmux.confï¼ˆCygwinç’°å¢ƒå†…ï¼‰
```bash
# ~/.tmux.conf (C:\tools\itmux\tmp\ é…ä¸‹ã«ä½œæˆã•ã‚Œã‚‹)

# åŸºæœ¬è¨­å®š
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# itmux/minttyç’°å¢ƒæœ€é©åŒ–
set -g mouse on
set -g default-terminal "screen-256color"
set -g terminal-overrides "xterm*:Tc"
set -g base-index 1
set -g pane-base-index 1

# Windows/Cygwinçµ±åˆ
set -g default-shell "/bin/bash"
set -g history-limit 10000

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ»ãƒšã‚¤ãƒ³æ“ä½œï¼ˆITSMé–‹ç™ºå‘ã‘ï¼‰
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

# ãƒšã‚¤ãƒ³ç§»å‹•ï¼ˆvimé¢¨ï¼‰
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# ãƒšã‚¤ãƒ³ãƒªã‚µã‚¤ã‚º
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# PowerShell/CMDçµ±åˆ
bind P new-window -n "PowerShell" 'cmd.exe /c powershell.exe'
bind C new-window -n "CMD" 'cmd.exe'
bind W new-window -n "WinTools" 'cmd.exe /c "cd /d C:\tools && powershell.exe"'

# ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰çµ±åˆï¼ˆWindowsï¼‰
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "/dev/clipboard"
bind ] run "cat /dev/clipboard | tmux load-buffer - ; tmux paste-buffer"

# ITSMé–‹ç™ºç‰¹åŒ–ãƒã‚¤ãƒ³ãƒ‰
bind I new-window -n "ITSM-Frontend" 'cd /cygdrive/c/workspace/itsm-project/frontend && bash'
bind B new-window -n "ITSM-Backend" 'cd /cygdrive/c/workspace/itsm-project/backend && bash'
bind T new-window -n "ITSM-Test" 'cd /cygdrive/c/workspace/itsm-project/tests && bash'

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ï¼ˆITSMé–‹ç™ºå‘ã‘ï¼‰
set -g status-position bottom
set -g status-bg colour234
set -g status-fg colour137
set -g status-interval 1
set -g status-left '#[fg=colour233,bg=colour245,bold] ğŸ¯ ITSM-Dev #[fg=colour245,bg=colour235,nobold]'
set -g status-right '#[fg=colour233,bg=colour245,bold] %d/%m %H:%M:%S '
set -g status-right-length 50
set -g status-left-length 30

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦è¡¨ç¤º
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour50]#F '
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '

# ãƒšã‚¤ãƒ³å¢ƒç•Œ
set -g pane-border-style 'fg=colour238 bg=colour235'
set -g pane-active-border-style 'fg=colour51 bg=colour235'

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
set -g message-style 'fg=colour232 bg=colour166 bold'
```

---

## ğŸ—ï¸ ITSMé–‹ç™ºã‚»ãƒƒã‚·ãƒ§ãƒ³æ§‹ç¯‰

### create-itsm-session.shï¼ˆå®Ÿæ§‹é€ å¯¾å¿œç‰ˆï¼‰
```bash
#!/bin/bash
# create-itsm-session.sh - å®Ÿéš›ã®itmuxç’°å¢ƒå¯¾å¿œç‰ˆ

SESSION_NAME="ITSM-ITmanagementSystem"
WORKSPACE_BASE="/cygdrive/c/workspace/itsm-project"

# ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç¢ºèªãƒ»ä½œæˆ
echo "ğŸ” Checking workspace structure..."
mkdir -p "$WORKSPACE_BASE"/{frontend,backend,tests,integration,scripts,logs,docs}

# æ—¢å­˜ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤
tmux has-session -t $SESSION_NAME 2>/dev/null && tmux kill-session -t $SESSION_NAME

# æ–°ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ
echo "ğŸš€ Creating ITSM development session..."
tmux new-session -d -s $SESSION_NAME

# Window 0: ğŸ‘‘ CEO Strategy Terminal
tmux rename-window -t $SESSION_NAME:0 "CEO-Strategy"
tmux send-keys -t $SESSION_NAME:0 "clear" C-m
tmux send-keys -t $SESSION_NAME:0 "echo 'ğŸ‘‘ CEO Strategy Terminal - ITSM Project Management'" C-m
tmux send-keys -t $SESSION_NAME:0 "echo 'ğŸ“ Workspace: $WORKSPACE_BASE'" C-m
tmux send-keys -t $SESSION_NAME:0 "cd $WORKSPACE_BASE" C-m
tmux send-keys -t $SESSION_NAME:0 "echo 'ğŸ¯ Current tasks:'" C-m
tmux send-keys -t $SESSION_NAME:0 "echo '  - Review development progress'" C-m
tmux send-keys -t $SESSION_NAME:0 "echo '  - Approve feature implementations'" C-m
tmux send-keys -t $SESSION_NAME:0 "echo '  - Strategic decisions'" C-m

# Window 1: ğŸ‘” Manager Coordination Terminal
tmux new-window -t $SESSION_NAME:1 -n "Manager-Coord"
tmux send-keys -t $SESSION_NAME:1 "clear" C-m
tmux send-keys -t $SESSION_NAME:1 "echo 'ğŸ‘” Manager Coordination Terminal - Team Management'" C-m
tmux send-keys -t $SESSION_NAME:1 "cd $WORKSPACE_BASE" C-m
tmux send-keys -t $SESSION_NAME:1 "echo 'ğŸ“Š Team coordination tasks:'" C-m
tmux send-keys -t $SESSION_NAME:1 "echo '  - Monitor developer progress'" C-m
tmux send-keys -t $SESSION_NAME:1 "echo '  - Resolve blockers'" C-m
tmux send-keys -t $SESSION_NAME:1 "echo '  - Quality assurance'" C-m

# Window 2: ğŸ’» dev1 Frontend Development
tmux new-window -t $SESSION_NAME:2 -n "dev1-Frontend"
tmux send-keys -t $SESSION_NAME:2 "clear" C-m
tmux send-keys -t $SESSION_NAME:2 "echo 'ğŸ’» Developer 1 - Frontend Development (React/Vue.js)'" C-m
tmux send-keys -t $SESSION_NAME:2 "cd $WORKSPACE_BASE/frontend" C-m
tmux send-keys -t $SESSION_NAME:2 "echo 'ğŸ¨ Frontend development environment ready'" C-m
tmux send-keys -t $SESSION_NAME:2 "echo 'ğŸ“ Available commands:'" C-m
tmux send-keys -t $SESSION_NAME:2 "echo '  - npm install    # Install dependencies'" C-m
tmux send-keys -t $SESSION_NAME:2 "echo '  - npm run dev    # Start development server'" C-m
tmux send-keys -t $SESSION_NAME:2 "echo '  - npm run build  # Build for production'" C-m

# Window 3: ğŸ”§ dev2 Backend/DB/API
tmux new-window -t $SESSION_NAME:3 -n "dev2-Backend"
tmux send-keys -t $SESSION_NAME:3 "clear" C-m
tmux send-keys -t $SESSION_NAME:3 "echo 'ğŸ”§ Developer 2 - Backend/Database/API Development'" C-m
tmux send-keys -t $SESSION_NAME:3 "cd $WORKSPACE_BASE/backend" C-m
tmux send-keys -t $SESSION_NAME:3 "echo 'ğŸ—„ï¸ Backend development environment ready'" C-m
tmux send-keys -t $SESSION_NAME:3 "echo 'ğŸ“ Available commands:'" C-m
tmux send-keys -t $SESSION_NAME:3 "echo '  - node server.js # Start API server'" C-m
tmux send-keys -t $SESSION_NAME:3 "echo '  - npm run migrate # Database migration'" C-m
tmux send-keys -t $SESSION_NAME:3 "echo '  - npm run test   # Run API tests'" C-m

# Window 4: ğŸ—„ï¸ dev3 Test/QA/Security
tmux new-window -t $SESSION_NAME:4 -n "dev3-TestQA"
tmux send-keys -t $SESSION_NAME:4 "clear" C-m
tmux send-keys -t $SESSION_NAME:4 "echo 'ğŸ—„ï¸ Developer 3 - Test Automation/QA/Security'" C-m
tmux send-keys -t $SESSION_NAME:4 "cd $WORKSPACE_BASE/tests" C-m
tmux send-keys -t $SESSION_NAME:4 "echo 'ğŸ§ª Test automation environment ready'" C-m
tmux send-keys -t $SESSION_NAME:4 "echo 'ğŸ“ Available commands:'" C-m
tmux send-keys -t $SESSION_NAME:4 "echo '  - npm run test:unit     # Unit tests'" C-m
tmux send-keys -t $SESSION_NAME:4 "echo '  - npm run test:integration # Integration tests'" C-m
tmux send-keys -t $SESSION_NAME:4 "echo '  - npm run security:scan # Security scan'" C-m

# Window 5: ğŸ§ª dev4 Integration/Validation
tmux new-window -t $SESSION_NAME:5 -n "dev4-Integration"
tmux send-keys -t $SESSION_NAME:5 "clear" C-m
tmux send-keys -t $SESSION_NAME:5 "echo 'ğŸ§ª Developer 4 - Integration/Validation Testing'" C-m
tmux send-keys -t $SESSION_NAME:5 "cd $WORKSPACE_BASE/integration" C-m
tmux send-keys -t $SESSION_NAME:5 "echo 'ğŸ” Integration testing environment ready'" C-m
tmux send-keys -t $SESSION_NAME:5 "echo 'ğŸ“ Available commands:'" C-m
tmux send-keys -t $SESSION_NAME:5 "echo '  - npm run test:e2e      # End-to-end tests'" C-m
tmux send-keys -t $SESSION_NAME:5 "echo '  - npm run validate      # Validation tests'" C-m
tmux send-keys -t $SESSION_NAME:5 "echo '  - npm run acceptance    # Acceptance tests'" C-m

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±è¡¨ç¤º
echo "âœ… ITSM development session created successfully!"
echo "ğŸ”— Session: $SESSION_NAME"
echo "ğŸ“‹ Windows:"
echo "  0: CEO-Strategy"
echo "  1: Manager-Coord"
echo "  2: dev1-Frontend"
echo "  3: dev2-Backend"
echo "  4: dev3-TestQA"
echo "  5: dev4-Integration"
echo ""
echo "ğŸ¯ To attach: tmux attach-session -t $SESSION_NAME"
echo "âŒ¨ï¸  Navigation: Ctrl+a + [0-5] to switch windows"

# ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¢ã‚¿ãƒƒãƒ
tmux attach-session -t $SESSION_NAME
```

---

## âš¡ PowerShellçµ±åˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### powershell-itmux-manager.shï¼ˆå®Ÿç’°å¢ƒå¯¾å¿œç‰ˆï¼‰
```bash
#!/bin/bash
# powershell-itmux-manager.sh - å®Ÿéš›ã®itmuxç’°å¢ƒå¯¾å¿œç‰ˆ

SCRIPT_DIR="/cygdrive/c/workspace/itsm-project/scripts"
LOG_DIR="/cygdrive/c/workspace/itsm-project/logs"
CONFIG_DIR="/cygdrive/c/workspace/itsm-project/config"

# åˆæœŸåŒ–
initialize_itmux_environment() {
    echo "ğŸ”§ Initializing itmux ITSM development environment..."
    
    # å¿…è¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
    mkdir -p "$SCRIPT_DIR" "$LOG_DIR" "$CONFIG_DIR"
    
    # Cygwinç’°å¢ƒç¢ºèª
    echo "ğŸ“‹ Cygwin environment check:"
    echo "  - Cygwin version: $(uname -a)"
    echo "  - tmux version: $(tmux -V)"
    echo "  - bash version: $BASH_VERSION"
    
    # Windowsçµ±åˆç¢ºèª
    echo "ğŸ–¥ï¸ Windows integration check:"
    if cmd.exe /c "echo Windows command available" 2>/dev/null; then
        echo "  - Windows commands: âœ… Available"
    else
        echo "  - Windows commands: âŒ Not available"
    fi
    
    if cmd.exe /c "powershell.exe -Command \"Write-Host 'PowerShell test'\"" 2>/dev/null; then
        echo "  - PowerShell: âœ… Available"
    else
        echo "  - PowerShell: âŒ Not available"
    fi
    
    # ãƒã‚¦ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆç¢ºèª
    echo "ğŸ“ Mount points:"
    mount | grep cygdrive
    
    # ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç¢ºèª
    echo "ğŸ“‚ Workspace directories:"
    ls -la /cygdrive/c/workspace/itsm-project/
}

# PowerShellå®Ÿè¡Œé–¢æ•°ï¼ˆitmuxç’°å¢ƒç‰¹åŒ–ï¼‰
execute_powershell_script() {
    local script_name=$1
    local dev_window=$2
    local iteration=$3
    local max_iterations=$4
    
    local timestamp=$(date '+%Y%m%d_%H%M%S')
    local log_file="$LOG_DIR/${script_name%.*}_${timestamp}.log"
    
    echo "âš¡ Executing PowerShell script: $script_name"
    echo "ğŸ“ Log file: $log_file"
    
    # Windows ãƒ‘ã‚¹å¤‰æ›
    local win_script_path=$(cygpath -w "$SCRIPT_DIR/$script_name")
    local win_log_path=$(cygpath -w "$log_file")
    
    # PowerShellå®Ÿè¡Œï¼ˆitmux/CygwinçµŒç”±ï¼‰
    echo "ğŸ”„ Running: $win_script_path"
    cmd.exe /c "powershell.exe -ExecutionPolicy Bypass -File \"$win_script_path\"" > "$log_file" 2>&1
    
    local exit_code=$?
    local current_time=$(date '+%H:%M:%S')
    
    # çµæœã‚’tmuxã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«é€šçŸ¥
    if [ -n "$dev_window" ]; then
        if [ $exit_code -eq 0 ]; then
            tmux send-keys -t "ITSM-ITmanagementSystem:$dev_window" "echo 'âœ… [$current_time] $script_name completed successfully (iteration $iteration/$max_iterations)'" C-m
        else
            tmux send-keys -t "ITSM-ITmanagementSystem:$dev_window" "echo 'âŒ [$current_time] $script_name failed with code $exit_code (iteration $iteration/$max_iterations)'" C-m
        fi
    fi
    
    # Managerçª“ã«å ±å‘Š
    tmux send-keys -t "ITSM-ITmanagementSystem:1" "echo 'ğŸ“Š [$current_time] Dev$dev_window: $script_name - Exit Code: $exit_code'" C-m
    
    # çµæœè¡¨ç¤º
    if [ $exit_code -eq 0 ]; then
        echo "âœ… Success: $script_name completed"
        
        # æˆåŠŸæ™‚ã®å¾Œå‡¦ç†
        if [ -f "$SCRIPT_DIR/Post-${script_name}" ]; then
            echo "ğŸ”„ Running post-processing script..."
            local win_post_path=$(cygpath -w "$SCRIPT_DIR/Post-${script_name}")
            cmd.exe /c "powershell.exe -ExecutionPolicy Bypass -File \"$win_post_path\""
        fi
    else
        echo "âŒ Error: $script_name failed with exit code $exit_code"
        
        # ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ä¿®å¾©
        if [ -f "$SCRIPT_DIR/Fix-${script_name}" ]; then
            echo "ğŸ”§ Running auto-fix script..."
            local win_fix_path=$(cygpath -w "$SCRIPT_DIR/Fix-${script_name}")
            cmd.exe /c "powershell.exe -ExecutionPolicy Bypass -File \"$win_fix_path\""
        fi
    fi
    
    return $exit_code
}

# è‡ªå‹•å®Ÿè¡Œãƒ«ãƒ¼ãƒ—
run_development_loop() {
    local script_pattern=$1
    local dev_window=$2
    local max_iterations=${3:-5}
    
    echo "ğŸ”„ Starting development loop for $script_pattern"
    
    # è©²å½“ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ¤œç´¢
    local scripts=($(find "$SCRIPT_DIR" -name "$script_pattern" -type f))
    
    if [ ${#scripts[@]} -eq 0 ]; then
        echo "âš ï¸ No scripts found matching pattern: $script_pattern"
        return 1
    fi
    
    for script in "${scripts[@]}"; do
        local script_name=$(basename "$script")
        echo "ğŸ“‹ Processing script: $script_name"
        
        for ((i=1; i<=max_iterations; i++)); do
            echo "ğŸ”„ Iteration $i/$max_iterations"
            
            if execute_powershell_script "$script_name" "$dev_window" "$i" "$max_iterations"; then
                echo "âœ… Iteration $i successful"
            else
                echo "âŒ Iteration $i failed"
                
                # ã‚¨ãƒ©ãƒ¼æ™‚ã®é¸æŠ
                read -p "ğŸ¤” Continue with next iteration? (y/n/s=skip script): " choice
                case $choice in
                    [Nn]* ) echo "ğŸ›‘ Stopping loop"; return 1;;
                    [Ss]* ) echo "â­ï¸ Skipping to next script"; break;;
                    * ) echo "â¡ï¸ Continuing...";;
                esac
            fi
            
            # é–“éš”èª¿æ•´
            sleep 2
        done
    done
}

# é–‹ç™ºè€…åˆ¥å®Ÿè¡Œé–¢æ•°
run_frontend_development() {
    echo "ğŸ’» Starting Frontend Development Loop"
    run_development_loop "Build-Frontend*.ps1" 2 3
    run_development_loop "Test-Frontend*.ps1" 2 2
    run_development_loop "Deploy-Frontend*.ps1" 2 1
}

run_backend_development() {
    echo "ğŸ”§ Starting Backend Development Loop"
    run_development_loop "Build-Backend*.ps1" 3 3
    run_development_loop "Test-API*.ps1" 3 2
    run_development_loop "Deploy-Backend*.ps1" 3 1
}

run_qa_testing() {
    echo "ğŸ—„ï¸ Starting QA Testing Loop"
    run_development_loop "Test-Integration*.ps1" 4 2
    run_development_loop "Test-Security*.ps1" 4 1
    run_development_loop "Test-Performance*.ps1" 4 1
}

run_integration_validation() {
    echo "ğŸ§ª Starting Integration Validation Loop"
    run_development_loop "Test-E2E*.ps1" 5 2
    run_development_loop "Validate-System*.ps1" 5 1
}

# ãƒ¡ã‚¤ãƒ³å‡¦ç†
main() {
    case $1 in
        init|initialize)
            initialize_itmux_environment
            ;;
        frontend|fe)
            run_frontend_development
            ;;
        backend|be)
            run_backend_development
            ;;
        qa|test)
            run_qa_testing
            ;;
        integration|int)
            run_integration_validation
            ;;
        all)
            initialize_itmux_environment
            run_frontend_development
            run_backend_development
            run_qa_testing
            run_integration_validation
            ;;
        *)
            echo "ğŸ¯ ITSM Development Manager (itmux/Cygwin)"
            echo "Usage: $0 {init|frontend|backend|qa|integration|all}"
            echo ""
            echo "Commands:"
            echo "  init        - Initialize itmux environment"
            echo "  frontend    - Run frontend development loop"
            echo "  backend     - Run backend development loop"
            echo "  qa          - Run QA testing loop"
            echo "  integration - Run integration validation loop"
            echo "  all         - Run all development loops"
            echo ""
            echo "ğŸ”— Make sure to run from within itmux tmux session"
            ;;
    esac
}

# å®Ÿè¡Œ
main "$@"
```

---

## ğŸ“‹ å®Ÿç”¨çš„ãªä½¿ç”¨ä¾‹

### ğŸ¯ ITSMé–‹ç™ºãƒ‡ã‚¤ãƒªãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### æœã®é–‹ç™ºé–‹å§‹ãƒ«ãƒ¼ãƒãƒ³
```bash
# 1. itmuxèµ·å‹•
C:\tools\itmux\itmux.cmd

# 2. é–‹ç™ºç’°å¢ƒåˆæœŸåŒ–
bash ./powershell-itmux-manager.sh init

# 3. é–‹ç™ºã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ
bash ./create-itsm-session.sh

# 4. å„é–‹ç™ºè€…ã®ä½œæ¥­é–‹å§‹
# - CEO: Ctrl+a 0
# - Manager: Ctrl+a 1
# - dev1: Ctrl+a 2 â†’ bash ./powershell-itmux-manager.sh frontend
# - dev2: Ctrl+a 3 â†’ bash ./powershell-itmux-manager.sh backend
# - dev3: Ctrl+a 4 â†’ bash ./powershell-itmux-manager.sh qa
# - dev4: Ctrl+a 5 â†’ bash ./powershell-itmux-manager.sh integration
```

#### åŸºæœ¬çš„ãªitmuxæ“ä½œ
```
ğŸ”§ ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
Ctrl+a d         - ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ã‚¿ãƒƒãƒï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œï¼‰
tmux attach      - ã‚»ãƒƒã‚·ãƒ§ãƒ³å†æ¥ç¶š
tmux ls          - ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§è¡¨ç¤º

ğŸªŸ ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æ“ä½œ
Ctrl+a c         - æ–°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ä½œæˆ
Ctrl+a n         - æ¬¡ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
Ctrl+a p         - å‰ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
Ctrl+a 0-5       - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç•ªå·æŒ‡å®šç§»å‹•
Ctrl+a ,         - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦åå¤‰æ›´

ğŸ“Š ãƒšã‚¤ãƒ³æ“ä½œ
Ctrl+a |         - å‚ç›´åˆ†å‰²
Ctrl+a -         - æ°´å¹³åˆ†å‰²
Ctrl+a h/j/k/l   - ãƒšã‚¤ãƒ³ç§»å‹•ï¼ˆVimé¢¨ï¼‰
Ctrl+a x         - ãƒšã‚¤ãƒ³å‰Šé™¤
Ctrl+a z         - ãƒšã‚¤ãƒ³ã‚ºãƒ¼ãƒ åˆ‡ã‚Šæ›¿ãˆ

ğŸ’» ITSMç‰¹åŒ–æ©Ÿèƒ½
Ctrl+a P         - PowerShellæ–°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
Ctrl+a C         - CMDæ–°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
Ctrl+a I         - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä½œæ¥­ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
Ctrl+a B         - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä½œæ¥­ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
Ctrl+a T         - ãƒ†ã‚¹ãƒˆä½œæ¥­ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
```

#### ãƒãƒ¼ãƒ é€£æºä¾‹
```bash
# é–‹ç™ºè€…é–“ã§ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…±æœ‰
# Manager â†’ dev1ã¸ã®ã‚¿ã‚¹ã‚¯æŒ‡ç¤º
tmux send-keys -t "ITSM-ITmanagementSystem:2" "echo 'Manager: æ–°ã—ã„UIä»•æ§˜ã®å®Ÿè£…ã‚’ãŠé¡˜ã„ã—ã¾ã™'" C-m

# dev1 â†’ Managerã¸ã®é€²æ—å ±å‘Š
tmux send-keys -t "ITSM-ITmanagementSystem:1" "echo 'dev1: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…å®Œäº†ã—ã¾ã—ãŸ'" C-m

# CEO â†’ å…¨å“¡ã¸ã®é‡è¦é€šçŸ¥
for window in {0..5}; do
    tmux send-keys -t "ITSM-ITmanagementSystem:$window" "echo 'CEO: æœ¬æ—¥ã®ç›®æ¨™ã‚’ç¢ºèªã—ã¦ãã ã•ã„'" C-m
done
```

---

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ³•

#### 1. itmuxãŒèµ·å‹•ã—ãªã„
```bash
# å•é¡Œ: itmux.cmdã‚’å®Ÿè¡Œã—ã¦ã‚‚ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹
# è§£æ±ºæ³•:
# 1. ãƒ‘ã‚¹ã®ç¢ºèª
echo $PATH | grep itmux

# 2. å®Ÿè¡Œæ¨©é™ã®ç¢ºèª
ls -la C:\tools\itmux\itmux.cmd

# 3. Cygwinãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç¢ºèª
ls -la C:\tools\itmux\bin\cygwin1.dll
```

#### 2. PowerShellå®Ÿè¡Œã‚¨ãƒ©ãƒ¼
```powershell
# å•é¡Œ: PowerShellã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå®Ÿè¡Œã§ããªã„
# è§£æ±ºæ³•:
# 1. å®Ÿè¡Œãƒãƒªã‚·ãƒ¼ã®ç¢ºèªãƒ»å¤‰æ›´
Get-ExecutionPolicy
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

# 2. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ–ãƒ­ãƒƒã‚¯è§£é™¤
Unblock-File -Path "C:\workspace\itsm-project\scripts\*.ps1"
```

#### 3. tmuxã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒä½œæˆã§ããªã„
```bash
# å•é¡Œ: tmux new-session ã§ã‚¨ãƒ©ãƒ¼
# è§£æ±ºæ³•:
# 1. tmuxã‚µãƒ¼ãƒãƒ¼ã®å†èµ·å‹•
tmux kill-server
tmux new-session -d -s test

# 2. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
tmux show-options -g

# 3. è¨­å®šãƒªãƒ­ãƒ¼ãƒ‰
tmux source-file ~/.tmux.conf
```

#### 4. ãƒ‘ã‚¹å¤‰æ›ã‚¨ãƒ©ãƒ¼
```bash
# å•é¡Œ: cygpath ã‚³ãƒãƒ³ãƒ‰ã§ã‚¨ãƒ©ãƒ¼
# è§£æ±ºæ³•:
# 1. cygpathã®ç¢ºèª
which cygpath

# 2. æ‰‹å‹•ãƒ‘ã‚¹å¤‰æ›
# Windows â†’ Cygwin
echo "C:\workspace" | sed 's/\\/\//g' | sed 's/://'

# 3. ãƒã‚¦ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆç¢ºèª
mount
```

#### 5. æ—¥æœ¬èªæ–‡å­—åŒ–ã‘
```bash
# å•é¡Œ: æ—¥æœ¬èªãŒæ–‡å­—åŒ–ã‘ã™ã‚‹
# è§£æ±ºæ³•:
# 1. ç’°å¢ƒå¤‰æ•°è¨­å®š
export LANG=ja_JP.UTF-8
export LC_ALL=ja_JP.UTF-8

# 2. minttyã®è¨­å®š
# minttyã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ Text â†’ Character set â†’ UTF-8
```

---

## ğŸ“ å‚è€ƒæƒ…å ±

### æ¨å¥¨PowerShellã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹

#### Build-Frontend.ps1
```powershell
# Build-Frontend.ps1
param(
    [string]$ProjectPath = "C:\workspace\itsm-project\frontend"
)

Write-Host "ğŸ¨ Starting Frontend Build Process" -ForegroundColor Green
Set-Location $ProjectPath

try {
    # ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    Write-Host "ğŸ“¦ Installing dependencies..." -ForegroundColor Yellow
    npm install
    if ($LASTEXITCODE -ne 0) { throw "npm install failed" }
    
    # ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
    Write-Host "ğŸ”¨ Building frontend..." -ForegroundColor Yellow
    npm run build
    if ($LASTEXITCODE -ne 0) { throw "npm build failed" }
    
    Write-Host "âœ… Frontend build completed successfully" -ForegroundColor Green
    exit 0
} catch {
    Write-Host "âŒ Frontend build failed: $($_.Exception.Message)" -ForegroundColor Red
    exit 1
}
```

#### Test-API.ps1
```powershell
# Test-API.ps1
param(
    [string]$ProjectPath = "C:\workspace\itsm-project\backend"
)

Write-Host "ğŸ”§ Starting API Test Process" -ForegroundColor Green
Set-Location $ProjectPath

try {
    # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
    Write-Host "ğŸ§ª Running API tests..." -ForegroundColor Yellow
    npm test
    if ($LASTEXITCODE -ne 0) { throw "API tests failed" }
    
    # ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
    Write-Host "ğŸ“Š Checking test coverage..." -ForegroundColor Yellow
    npm run test:coverage
    
    Write-Host "âœ… API tests completed successfully" -ForegroundColor Green
    exit 0
} catch {
    Write-Host "âŒ API tests failed: $($_.Exception.Message)" -ForegroundColor Red
    exit 1
}
```

### é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### å¿…è¦ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢
- [ ] itmux (é…ç½®æ¸ˆã¿)
- [ ] Node.js (æ¨å¥¨: v18.x LTS)
- [ ] Git for Windows
- [ ] PowerShell 5.1+ ã¾ãŸã¯ PowerShell Core 7.x
- [ ] Visual Studio Code (æ¨å¥¨)

#### é–‹ç™ºãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
C:\workspace\itsm-project\
â”œâ”€â”€ frontend\          # React/Vue.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”œâ”€â”€ backend\           # Node.js/Express ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”œâ”€â”€ tests\             # ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
â”œâ”€â”€ integration\       # çµ±åˆãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ scripts\           # PowerShellã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ logs\              # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ docs\              # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â””â”€â”€ config\            # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
```

---

## ğŸ¯ ã¾ã¨ã‚

ã“ã®ã‚¬ã‚¤ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€itmuxã‚’æ´»ç”¨ã—ãŸITSMé–‹ç™ºç’°å¢ƒãŒåŠ¹ç‡çš„ã«æ§‹ç¯‰ã§ãã¾ã™ã€‚

### ä¸»ãªç‰¹å¾´
- **Windows Native**: WSLä¸è¦ã§Windowsç’°å¢ƒç›´æ¥å®Ÿè¡Œ
- **PowerShellçµ±åˆ**: PowerShellã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è‡ªå‹•å®Ÿè¡Œãƒ»ç›£è¦–
- **ãƒãƒ¼ãƒ é€£æº**: tmuxçµŒç”±ã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æƒ…å ±å…±æœ‰
- **è‡ªå‹•åŒ–**: é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã®è‡ªå‹•å®Ÿè¡Œãƒ»ã‚¨ãƒ©ãƒ¼å¯¾å¿œ

### ä½¿ç”¨é–‹å§‹æ‰‹é †
1. itmuxèµ·å‹•: `C:\tools\itmux\itmux.cmd`
2. ç’°å¢ƒåˆæœŸåŒ–: `bash ./powershell-itmux-manager.sh init`
3. ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ: `bash ./create-itsm-session.sh`
4. é–‹ç™ºé–‹å§‹: å„çª“ã§ä½œæ¥­é–‹å§‹
